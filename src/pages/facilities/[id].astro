---
import Layout from "../../layouts/Layout.astro";
import FacilityScheduleView from "../../components/views/FacilityScheduleView";
import { isFeatureEnabled } from "../../features";

// Check if facilities feature is enabled
if (!isFeatureEnabled("facilities")) {
  return Astro.redirect("/404");
}

// Extract the facility ID from the URL parameters
const { id } = Astro.params;

// Parse the ID as a number for type safety
const facilityId = id ? parseInt(id, 10) : null;

// Validate that we have a valid numeric ID
if (!facilityId || isNaN(facilityId)) {
  return Astro.redirect("/404");
}

// Disable prerendering for this dynamic route
export const prerender = false;
---

<Layout title="Facility Schedule - Reservo">
  <FacilityScheduleView client:load facilityId={facilityId} />
</Layout>
